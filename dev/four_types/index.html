<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Forward Operator Types · ADCME</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ADCME</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">ADCME Documentation</a></li><li><span class="toctext">Inverse Modeling</span></li><li><span class="toctext">Automatic Differentiation</span><ul><li class="current"><a class="toctext" href>Forward Operator Types</a><ul class="internal"></ul></li></ul></li><li><span class="toctext">Useful Tools</span><ul><li><a class="toctext" href="../customop/">-</a></li><li><a class="toctext" href="../while_loop/">The Power of <code>while_loop</code> – Application to Finite Element Analysis</a></li><li><a class="toctext" href="../julia_customop/">Julia Custom Operators</a></li><li><a class="toctext" href="../extra/">Miscellaneous Tools</a></li></ul></li><li><span class="toctext">Applications</span></li><li><span class="toctext">API Reference</span><ul><li><a class="toctext" href="../api/">-</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Automatic Differentiation</li><li><a href>Forward Operator Types</a></li></ul><a class="edit-page" href="https://github.com/kailaix/ADCME.jl/blob/master/docs/src/four_types.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Forward Operator Types</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Forward-Operator-Types-1" href="#Forward-Operator-Types-1">Forward Operator Types</a></h1><p>All numerical simulations can be decomposed into operators that are chained together. These operators range from a simple arithmetic operation such as addition or multiplication, to more sophisticated computation such as solving a linear system. Automatic differentiation relies on the differentiation of those operators and integrates them with chain rules. Therefore, it is very important for us to study the basic types of existing operators. </p><p><img src="../asset/sim.png" alt="Operators"/></p><p>In this tutorial, a operator is defined as a numerical procedure that accepts a parameter called <em>input</em>, <span>$x$</span>, and turns out a parameter called <em>ouput</em>, <span>$y=f(x)$</span>. For reverse mode automatic differentiation, besides evaluating <span>$f(x)$</span>, we need also to compute <span>$\frac{\partial J}{\partial x}$</span> given <span>$\frac{\partial J}{\partial y}$</span> where <span>$J$</span> is a functional of <span>$y$</span>. </p><p>Note  the operator <span>$y=f(x)$</span> may be implicit in the sense that <span>$f$</span> is not given directly. In general, we can write the relationship between <span>$x$</span> and <span>$y$</span> as <span>$F(x,y)=0$</span>. The operator is <em>well-defined</em> if for given <span>$x$</span>, there exists one and only one <span>$y$</span> such that <span>$F(x,y)=0$</span>. </p><p>For automatic differentiation, besides the well-definedness of <span>$F$</span>, we also require that we can compute <span>$\frac{\partial J}{\partial x}$</span> given <span>$\frac{\partial J}{\partial y}$</span>. It is easy to see that $ \frac{\partial J}{\partial x} = -\frac{\partial J}{\partial y}F<em>y^{-1}F</em>x $ Therefore, we call an operator <span>$F$</span> is <em>well-posed</em> if <span>$F_y^{-1}$</span> exists. </p><p>All operators can be classified into four types based on the linearity and explicitness</p><ul><li><p><strong>Linear and explicit</strong> This type of operators has the form  $ y = Ax $ where <span>$A$</span> is a matrix. In this case,  $ F(x,y) = Ax-y $ and therefore  $ \frac{\partial J}{\partial x} = \frac{\partial J}{\partial y}A $</p></li><li><p><strong>Nonlinear and explicit</strong> In this case, we have  $ y = F(x) $ where <span>$F$</span> is explicitly given. We have $ F(x,y) = F(x)-y\Rightarrow \frac{\partial J}{\partial x} = \frac{\partial J}{\partial y} F_x(x) $</p></li><li><p><strong>Linear and implicit</strong> In this case  $ Ay = x $ We have <span>$F(x,y) = x-Ay$</span> and  $ \frac{\partial J}{\partial x} = \frac{\partial J}{\partial y}A^{-1} $</p></li><li><p><strong>Nonlinear and implicit</strong></p><p>In this case <span>$F(x,y)=0$</span> and the corresponding gradient is  $ \frac{\partial J}{\partial x} = -\frac{\partial J}{\partial y}F<em>y^{-1}F</em>x $</p></li></ul><p>In <code>TensorFlow</code> it is easy to implement linear/nonlinear and explicit operators and takes reasonable effor for linear and implicit operators. However, it is challenging to implement nonlinear and implicit method. We provide a solution by marrying <code>PyTorch</code> and <code>TensorFlow</code> <a href="https://github.com/kailaix/ADCME.jl/tree/master/examples/md/pytorch.pdf">here</a></p><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">ADCME Documentation</span></a><a class="next" href="../customop/"><span class="direction">Next</span><span class="title">-</span></a></footer></article></body></html>
